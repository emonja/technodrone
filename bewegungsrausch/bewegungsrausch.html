<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>BEWEGUNGSRAUSCH</title>
    <style>
      body {
        background-color: #000;
        color: #666; /* Brighter gray for UI elements */
        font-family: 'Courier New', monospace;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: env(safe-area-inset-top) 20px env(safe-area-inset-bottom) 20px;
        height: 100vh;
        margin: 0;
        overflow: hidden;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      .nav-wrapper {
        position: fixed;
        top: calc(env(safe-area-inset-top) + 15px);
        right: 25px;
        z-index: 9999;
      }

      .nav-return {
        text-decoration: none;
        color: #444; 
        font-size: 12px;
        letter-spacing: 1px;
        padding: 10px;
        transition: color 0.3s;
      }

      .nav-return:hover { color: #fff; }

      h1 {
        font-size: 14px;
        letter-spacing: 0.5rem;
        text-transform: uppercase;
        margin-bottom: 25px;
        font-weight: normal;
        color: #888; /* Restored header visibility */
        transition: opacity 0.3s, color 0.3s;
      }

      .media-container {
        width: 100%;
        max-width: 480px;
        /* RESTORED COLOR: Reduced grayscale, boosted contrast for light streaks */
        filter: grayscale(40%) contrast(130%) brightness(90%);
        transition: transform 0.1s linear, filter 0.2s ease-out;
        border: 1px solid #1a1a1a;
        position: relative;
        z-index: 10;
        box-shadow: 0 0 30px rgba(0,0,0,1);
      }

      /* Motion Blur - Boosts saturation of lights on movement */
      .motion-blur {
          filter: grayscale(0%) contrast(160%) brightness(1.2) blur(2px) !important;
      }

      .player-box {
        margin-top: 40px;
        opacity: 0.6; /* Higher baseline visibility */
        width: 300px;
        filter: invert(100%) contrast(150%); 
        transition: transform 0.1s linear, opacity 0.3s;
      }

      .player-box:hover { opacity: 1; }

      .glitch-bits {
        position: absolute;
        bottom: calc(env(safe-area-inset-bottom) + 15px);
        font-size: 9px;
        color: #333; 
        width: 100%;
        text-align: center;
        letter-spacing: 2px;
      }

      .overlay {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        /* Darker scanlines to let image colors pop */
        background: linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,0.4) 50%);
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 50;
        opacity: 0.6;
      }
    </style>
</head>
<body>

    <div class="overlay"></div>

    <div class="nav-wrapper">
        <a href="../index.html" class="nav-return">back_to_root</a>
    </div>

    <h1 id="title">Bewegungsrausch</h1>

    <div class="media-container" id="visual">
        <img src="img.png" style="width: 100%; display: block;" draggable="false">
    </div>

    <div class="player-box" id="player">
        <iframe style="border: 0; width: 100%; height: 42px;" src="https://bandcamp.com/EmbeddedPlayer/track=555135397/size=small/bgcol=333333/linkcol=ffffff/transparent=true/" seamless>
            <a href="https://estebandelamonja.bandcamp.com/track/bewegungsrausch">Bewegungsrausch</a>
        </iframe>
    </div>

    <div class="glitch-bits">
        RHIZOME_STREAK_01 // CHROMATIC_RESTORED
    </div>

    <script>
        const visual = document.getElementById('visual');
        const player = document.getElementById('player');
        const title = document.getElementById('title');
        
        let offset = 0;
        let targetOffset = 0;
        let isMoving = false;

        function updatePosition() {
            offset += (targetOffset - offset) * 0.1;
            
            const moveY = offset * 0.4;
            
            visual.style.transform = `translateY(${moveY}px)`;
            player.style.transform = `translateY(${moveY * 0.6}px)`;
            
            if (Math.abs(offset) > 0.5) {
                visual.classList.add('motion-blur');
                title.style.color = '#fff';
                requestAnimationFrame(updatePosition);
            } else {
                visual.classList.remove('motion-blur');
                title.style.color = '#888';
                offset = 0;
                targetOffset = 0;
                isMoving = false;
            }
        }

        // DESKTOP: Wheel
        window.addEventListener('wheel', (e) => {
            targetOffset += e.deltaY * 0.4;
            targetOffset = Math.max(Math.min(targetOffset, 150), -150);
            if (!isMoving) { isMoving = true; updatePosition(); }
            setTimeout(() => { targetOffset = 0; }, 40);
        }, { passive: true });

        // MOBILE: Touch
        let touchStartY = 0;
        document.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].pageY;
        }, { passive: true });

        document.addEventListener('touchmove', (e) => {
            const touchY = e.touches[0].pageY;
            targetOffset = (touchY - touchStartY) * 1.5;
            if (!isMoving) { isMoving = true; updatePosition(); }
        }, { passive: true });

        document.addEventListener('touchend', () => {
            targetOffset = 0;
        });
    </script>
</body>
</html>
